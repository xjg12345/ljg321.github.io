# 腾讯天气API抓取

---

## 请求接口

这是腾讯天气的通用请求接口

    https://wis.qq.com/weather/common

## 请求参数

|参数|含义|
|---|---|
|source|请求来源，可以填 pc 即来自PC端|
|province|省，比如山东省|
|city|市，比如临沂市|
|country|县区，比如兰山区|
|weather_type|请求的天气类型，这里是最重要的，参数有：observe(观测站数据，例如温度大气压)，forecast_1h（按小时预报），forecast_24h（按天预报），index（指数，比如穿衣指数等），alarm（警告），limit，tips（小提示），rise（日出日落，月出月落），air（空气质量）等 |

## 使用说明

GET请求后面的weather_type内容参数之间用 | 分割，然后再进行URL编码。province和city也要经过URL编码。

## 城市的获取

下面是通用接口

    https://wis.qq.com/city/like

|参数|含义|
|---|---|
|source|请求来源，可以填 pc 即来自PC端|
|city|请求的位置，比如临沂，或者兰山区，返回一个模糊匹配结果集|

请求示例

    https://wis.qq.com/city/like?source=pc&city=兰

请求结果示例

```json
{
    "data": {
        "101050103": "黑龙江, 哈尔滨, 呼兰",
        "101050106": "黑龙江, 哈尔滨, 依兰",
        "101050113": "黑龙江, 哈尔滨, 木兰",
        "101050507": "黑龙江, 绥化, 兰西",
        "101060202": "吉林, 吉林, 舒兰",
        "101070204": "辽宁, 大连, 普兰店",
        "101080401": "内蒙古, 乌兰察布",
        "101080405": "内蒙古, 乌兰察布, 乌兰察布",
        "101081012": "内蒙古, 呼伦贝尔, 扎兰屯",
        "101120904": "山东, 临沂, 兰陵",
        "101120911": "山东, 临沂, 兰山",
        "101140705": "西藏, 阿里, 普兰",
        "101150709": "青海, 海西, 乌兰",
        "101150715": "青海, 海西, 都兰",
        "101160101": "甘肃, 兰州",
        "101160102": "甘肃, 兰州, 皋兰",
        "101170104": "宁夏, 银川, 贺兰",
        "101180805": "河南, 开封, 兰考",
        "101210903": "浙江, 金华, 兰溪",
        "101291204": "云南, 怒江, 兰坪",
        "101301203": "广西, 河池, 东兰",
        "101310105": "海南, 海口, 美兰",
        "101340104": "台湾, 台北, 宜兰"
    },
    "message": "OK",
    "status": 200
}
```
